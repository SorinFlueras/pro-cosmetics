!function(e){"use strict";var a;e("a.wcpdf-remove-image").length>0&&e(document).on("click","a.wcpdf-remove-image",function(a){a.preventDefault(),e(this).parent().parent().children(".wcpdf_image_id").val(""),e(this).parent().parent().children(".wcpdf_image_url").val(""),e(this).parent().children("img").remove(),e(".gal-item").length>0&&e(this).next("input").val("").remove(),e(this).remove()}),e("a.wcpdf-uppload-image").length>0&&e(document).on("click","a.wcpdf-uppload-image",function(t){t.preventDefault();var i=e(this).parent().children(".wcpdf_image_id"),r=e(this).parent().children(".wcpdf_image_url"),l=e(this).parent().children(".preview-image-wrapper"),p=e(this).parent().children(".preview-image-wrapper").find(".iumb_saved_image");a&&a.close(),a=wp.media.frames.file_frame=wp.media({title:e(this).data("uploader-title"),library:{type:"image"},button:{text:e(this).data("uploader-button-text")},multiple:!1}),a.on("select",function(){var t=(e("#image-uploader-meta-box-list li").index(e("#image-uploader-meta-box-list li:last")),a.state().get("selection"));t.map(function(a){var a=a.toJSON(),t=a.url,n=a.id;if(e(".iumb").val(a.url),""!=a.url){p.remove();var m='<img src="'+t+'" /><a href="#" class="remove_image wcpdf-remove-image"><em>Remove</em></a>';e(l).html(m),r.val(t),i.val(n)}})}),a.open()}),e("a.wcpdf-uppload-image-gallery").length>0&&e(document).on("click","a.wcpdf-uppload-image-gallery",function(t){t.preventDefault();var i=e(this).parent().children(".wcpdf_image_id"),r=e(this).parent().children(".wcpdf_image_url"),l=e(this).parent().children(".preview-image-wrapper"),p=e(this).parent().children(".preview-image-wrapper").find(".iumb_saved_image");a&&a.close(),a=wp.media.frames.file_frame=wp.media({title:e(this).data("uploader-title"),library:{type:"image"},button:{text:e(this).data("uploader-button-text")},multiple:!0}),a.on("select",function(){var t=(e("#image-uploader-meta-box-list li").index(e("#image-uploader-meta-box-list li:last")),a.state().get("selection"));t.map(function(a){var a=a.toJSON(),t=a.url,n=a.id;if(e(".iumb").val(a.url),""!=a.url){p.remove();var m='<div class="gal-item"><img src="'+t+'" /><a href="#" class="remove_image wcpdf-remove-image"><em>Remove</em></a><input type="hidden" name="'+i.attr("data-name")+'[]" value="'+n+'" /></div>';e(l).append(m),r.val(t),i.val(n)}})}),a.open()}),e(".wc_cpdf_colorpicker").length>0&&e(".wc_cpdf_colorpicker").wpColorPicker(),e(".wc_cpdf_datepicker").length>0&&e(".wc_cpdf_datepicker").each(function(){e(".wc_cpdf_datepicker").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0})})}(jQuery);